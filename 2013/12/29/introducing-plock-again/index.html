<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Alex Clark - Python Web Developer & Musician, Django, Plone, Pyramid and more!">

        <link rel="alternate"  href="http://blog.aclark.net/feeds/all.atom.xml" type="application/atom+xml" title="Alex Clark - Python Web Developer & Musician Full Atom Feed"/>

        <title>Introducing Plock Again // Alex Clark - Python Web Developer & Musician // Django, Plone, Pyramid and more!</title>

    <link href="https://github.com/pythonpackages/pythonpackages/blob/master/favicon.ico?raw=true" rel="icon">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://blog.aclark.net/theme/css/pure.css">
    <link rel="stylesheet" href="http://blog.aclark.net/theme/css/pygments.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>

    <script type="text/javascript" src="http://blog.aclark.net/tipuesearch/tipuesearch_set.js"></script>
    <script type="text/javascript" src="http://blog.aclark.net/tipuesearch/tipuesearch_content.js"></script>
    <link rel="stylesheet" type="text/css" href="http://blog.aclark.net/tipuesearch/tipuesearch.css">
    <script type="text/javascript" src="http://blog.aclark.net/tipuesearch/tipuesearch.js"></script>

</head>

<body>
    <div class="pure-g-r" id="layout">
        <div class="sidebar pure-u">
            <div class="cover-img" style="background-image: url('http://aclark.net/static/background.jpg')">
                <div class="cover-body">
                    <header class="header">
                        <hgroup>
                            <img class="avatar" src="http://www.gravatar.com/avatar/6170000a01c67c6ba1e2d4bd87701bae.png">
                            <h1 class="brand-main"><a href="http://blog.aclark.net">Alex Clark - Python Web Developer & Musician</a></h1>
                            <p class="tagline">Django, Plone, Pyramid and more!</p>
                                <p class="social">
                                    <a href="https://github.com/aclark4life">
                                        <i class="fa fa-github fa-3x"></i>
                                    </a>
                                    <a href="https://www.gittip.com/aclark4life">
                                        <i class="fa fa-gittip fa-3x"></i>
                                    </a>
                                    <a href="https://twitter.com/aclark4life">
                                        <i class="fa fa-twitter-square fa-3x"></i>
                                    </a>
                                    <a href="https://about.me/alex.clark">
                                        <i class="fa fa-user fa-3x"></i>
                                    </a>
                                </p>
                        </hgroup>
                    </header>
                </div>
            </div>
        </div>
        <div id="search" style="letter-spacing: 1px">
            <form action="http://blog.aclark.net">
                <input type="text" name="q" id="tipue_search_input" autocomplete="off" required>
            </form>
            <div id="tipue_search_content" style="padding-left: 55px"></div>
        </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>Introducing Plock Again</h1>
                        <p class="post-meta">
                            // under                                 <a class="post-category" href="http://blog.aclark.net/tag/plone.html">Plone</a>
                                <a class="post-category" href="http://blog.aclark.net/tag/python.html">Python</a>
                        </p>
                </header>
            </section>
            <p>A few months ago I introduced <strong>Plock: the Plone-installer for the Pip-loving crowd</strong>. Then I got sidetracked with the next version of Plock lingering unreleased in master. With the holidays underway I had a chance to revisit Plock and discovered a few things:</p>
<ul class="simple">
<li>I still like the idea of Plock.</li>
<li>I got carried away adding miscellaneous features to Plock, which only served to ruin the elegance of the idea.</li>
<li>I particularly like the idea of moving my <a class="reference external" href="https://github.com/plock/pins">hosted configuration files</a> from PythonPackages to Plock. They always felt out of place in PythonPackages but I didn't have a better place to put them until now.</li>
</ul>
<div class="section" id="what-is-plock">
<h2>What is Plock?</h2>
<p>So what is Plock today?</p>
<ul class="simple">
<li>A Plone-installer for the Pip-loving crowd. That means someone with Python 2.7 and Pip should be able to install Plone in a matter of minutes with: <tt class="docutils literal">pip install plock ; plock .</tt></li>
<li>A set of hosted configuration files for Plone called <strong>Plock Pins</strong>. <a class="footnote-reference" href="#id2" id="id1">[1]</a></li>
<li>A command line utility with a sharp focus.</li>
</ul>
<div class="section" id="features">
<h3>Features</h3>
<p>I've recently removed several extraneous features from Plock to sharpen the focus on installing Plone and its add-ons. Check out the Plock 0.1.9 <tt class="docutils literal"><span class="pre">--help</span></tt>:</p>
<pre class="literal-block">
$ plock -h
usage: plock [-h] [-v] [-e] [-a ADD_ON] [-l] [-w] [-r] [install_dir]

Plock is a Plone Installer for the Pip-Loving Crowd

positional arguments:
  install_dir

optional arguments:
  -h, --help            show this help message and exit
  -v, --version         show program's version number and exit
  -e, --expert          expert mode
  -a ADD_ON, --add-on ADD_ON
                        install add-ons from PyPI
  -l, --list-addons     list add-ons from PyPI
  -w, --write-config    write buildout.cfg
  -r, --raw             unformatted output, use with -l
</pre>
<div class="section" id="install-plone">
<h4>Install Plone</h4>
<p>The main focus is on installing Plone to a user-specified installation directory e.g.:</p>
<pre class="literal-block">
$ plock .
</pre>
</div>
<div class="section" id="install-add-ons">
<h4>Install Add-ons</h4>
<p>Additionally you may specify an add-on to install e.g.:</p>
<pre class="literal-block">
$ plock -a Products.PloneFormGen .
</pre>
<p>Add-on installations are cumulative, so:</p>
<pre class="literal-block">
$ plock -a Products.PloneFormGen .
$ plock -a collective.loremipsum .
</pre>
<p>will result in a <tt class="docutils literal">buildout.cfg</tt> file that looks like this:</p>
<pre class="literal-block">
[buildout]
extends = https://raw.github.com/plock/pins/master/plone-4-3

[plone]
eggs =
    ${addon:packages}
    ${base:packages}
    Products.PloneFormGen
    collective.loremipsum
</pre>
<p>Add-ons that don't install via Buildout <strong>will not break your installation</strong> e.g.:</p>
<pre class="literal-block">
$ plock -a asdf .
Plock is installing Plone............. error: buildout failed.
</pre>
<p>When Buildout fails, Plock restores the previous working <tt class="docutils literal">buildout.cfg</tt> for you.</p>
</div>
<div class="section" id="list-add-ons">
<h4>List Add-ons</h4>
<p>Because Plone is more fun with add-ons and because add-ons can be hard to find, Plock will list (and alpha-sort) all the Plone add-ons available from PyPI:</p>
<pre class="literal-block">
1) 73.unlockItems                           - A small tool for unlocking web_dav locked item in a plone portal.
2) actionbar.panel                          - Provides a (old) facebook style action panel at the bottom of your  Plone site
3) adi.init                                 - Deletes Plone's default contents
4) adi.samplecontent                        - Deletes Plone's default content and adds some sample content
5) adi.slickstyle                           - A slick style for Plone portals, easily extendable for your own styles.
6) anthill.querytool                        - GUI for AdvancedQuery with some extensions - searching the easy way for Plone
7) anthill.skinner                          - Skinning for plone made easy
8) anz.dashboard                            - Plone netvibes like dashboard implementation
9) anz.ijabbar                              - Integrate iJab(an open source XMPP web chat client recommended by xmpp.org) to your plone site.
10) archetypes.clippingimage                 - Image field and/or patch with clipping support for Plone/Archetypes.
â€¦
1,256) zkaffold                                 - Build out demonstration content for plone
1,257) ZopeSkel                                 - Templates and code generator for quickstarting Python, Zope and Plone projects.
1,258) zopeskel.diazotheme                      - Paster templates for Plone Diazo theme package
1,259) zopeskel.niteoweb                        - Paster templates for standard NiteoWeb Plone projects
1,260) zopyx.ecardsng                           - An ECard implementation for Plone
1,261) zopyx.ipsumplone                         - Lorem ipsum text and image demo content for Plone
1,262) zopyx.multieventcalendar                 - A multi-event calendar for Plone 3.X
1,263) zopyx.plone.cassandra                    - Show all assigned local roles within a subtree for any Plone 4 site
1,264) zopyx.plone.migration                    - Export/import scripts for migration Plone 2+3 to Plone 4
1,265) zopyx.smartprintng.plone                 - Produce &amp; Publisher server integration with Plone
</pre>
</div>
<div class="section" id="write-config">
<h4>Write config</h4>
<p>Lastly, because sometimes you want to write a configuration file without installing Plone there is:</p>
<pre class="literal-block">
$ plock -w .
Wrote buildout.cfg.
</pre>
<p>which will result in:</p>
<pre class="literal-block">
$ cat buildout.cfg
[buildout]
extends = https://raw.github.com/plock/pins/master/plone-4-3
</pre>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Extending configuration files over the internet is not a universally accepted technique due to the inherent security risk, but it's how I've worked with Plone for years. I once added a &quot;secure&quot; feature to Plock but removed it recently due to the maintenance burden. Plock is now primarily insecure but true to its original goal of simplicity. Maybe security can be re-added later in some semi-elegant way (e.g. cert verification by the client?).</td></tr>
</tbody>
</table>
</div>
</div>
</div>

            <a href="#" class="go-top">Go Top</a>
    <div class="comments">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = "aclark-blog"; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
<footer class="footer">
    <p>&copy; Alex Clark &ndash;
        Built with <a href="https://github.com/PurePelicanTheme/pure-single">Pure Theme</a>
        for <a href="http://blog.getpelican.com/">Pelican</a>
    </p>
</footer>        </div>
    </div>
    </div>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>
    <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
        try {
            var pageTracker = _gat._getTracker("UA-34988446-1");
            pageTracker._trackPageview();
            } catch(err) {}
    </script>


    <script>
    $(document).ready(function() {
         $('#tipue_search_input').tipuesearch({
              'show': 6,
              'mode': 'json',
              'contentLocation': 'tipuesearch_content.json'
         });
    });
    </script>

</body>
</html>